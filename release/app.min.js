var Canvas=function(){function t(t){this.canvas=document.querySelector(t),this.ctx=this.canvas.getContext("2d"),this.init()}return t.prototype.init=function(){this.updateCalculatedWidth(),window.addEventListener("resize",this.updateCalculatedWidth.bind(this))},t.prototype.updateCalculatedWidth=function(){var t=this.canvas.getBoundingClientRect();this.canvas.width=t.width,this.canvas.height=t.height},t.prototype.draw=function(t){},t}(),Point=function(){function t(t,e){this.x=t,this.y=e}return t.prototype.draw=function(){},t}(),Toolbar=function(){function t(t){this.toolbar=document.querySelector(t),this.init()}return t.prototype.init=function(){this.bindEventListeners(),this.getButtons(),this.addEventListeners()},t.prototype.bindEventListeners=function(){this.pickUpToolListener=this.pickUpTool.bind(this),this.putDownToolListener=this.putDownTool.bind(this),this.moveToolListener=this.moveTool.bind(this)},t.prototype.getButtons=function(){this.buttons=[];for(var t=this.toolbar.querySelectorAll(".btn"),e=0;e<t.length;e++)this.buttons.push(t[e])},t.prototype.addEventListeners=function(){for(var t=0;t<this.buttons.length;t++)this.buttons[t].addEventListener("click",this.pickUpToolListener)},t.prototype.removeEventListeners=function(){for(var t=0;t<this.buttons.length;t++)this.buttons[t].removeEventListener("click",this.pickUpToolListener)},t.prototype.pickUpTool=function(t){console.log("Picking up"),this.currentTool=t.currentTarget.querySelector("i"),this.currentTool.classList.contains("active")||this.currentTool.classList.add("active"),this.moveTool(t),this.removeEventListeners(),t.currentTarget.addEventListener("click",this.putDownToolListener),document.body.addEventListener("mousemove",this.moveToolListener)},t.prototype.putDownTool=function(t){console.log("Putting down"),this.currentTool.classList.remove("active"),this.currentTool=null,document.body.removeEventListener("mousemove",this.moveToolListener),t.currentTarget.removeEventListener("click",this.putDownToolListener),this.addEventListeners()},t.prototype.moveTool=function(t){this.currentTool.style.left=t.clientX+"px",this.currentTool.style.top=t.clientY-this.currentTool.getBoundingClientRect().height+"px"},t}(),p=new Point(0,0),c=new Canvas("canvas"),t=new Toolbar(".toolbar");